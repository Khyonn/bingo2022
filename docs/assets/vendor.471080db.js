const $={},ne=(e,t)=>e===t,M={equals:ne};let J=z;const N={},E=1,U=2,Y={owned:null,cleanups:null,context:null,owner:null};var p=null;let B=null,c=null,v=null,g=null,A=null,R=0;function I(e,t){const s=c,n=p,i=e.length===0?Y:{owned:null,cleanups:null,context:null,owner:t||n};p=i,c=null;try{return K(()=>e(()=>Q(i)),!0)}finally{c=s,p=n}}function ie(e,t){t=t?Object.assign({},M,t):M;const s={value:e,observers:null,observerSlots:null,pending:N,comparator:t.equals||void 0},n=i=>(typeof i=="function"&&(i=i(s.pending!==N?s.pending:s.value)),V(s,i));return[Z.bind(s),n]}function F(e,t,s){const n=_(e,t,!1,E);D(n)}function we(e,t,s){J=ce;const n=_(e,t,!1,E);n.user=!0,A?A.push(n):queueMicrotask(()=>D(n))}function le(e,t,s){s=s?Object.assign({},M,s):M;const n=_(e,t,!0,0);return n.pending=N,n.observers=null,n.observerSlots=null,n.comparator=s.equals||void 0,D(n),Z.bind(n)}function fe(e){if(v)return e();let t;const s=v=[];try{t=e()}finally{v=null}return K(()=>{for(let n=0;n<s.length;n+=1){const i=s[n];if(i.pending!==N){const f=i.pending;i.pending=N,V(i,f)}}},!1),t}function H(e){let t,s=c;return c=null,t=e(),c=s,t}function oe(e){return p===null||(p.cleanups===null?p.cleanups=[e]:p.cleanups.push(e)),e}function Z(){const e=B;if(this.sources&&(this.state||e)){const t=g;g=null,this.state===E||e?D(this):j(this),g=t}if(c){const t=this.observers?this.observers.length:0;c.sources?(c.sources.push(this),c.sourceSlots.push(t)):(c.sources=[this],c.sourceSlots=[t]),this.observers?(this.observers.push(c),this.observerSlots.push(c.sources.length-1)):(this.observers=[c],this.observerSlots=[c.sources.length-1])}return this.value}function V(e,t,s){if(v)return e.pending===N&&v.push(e),e.pending=t,t;if(e.comparator&&e.comparator(e.value,t))return t;let n=!1;return e.value=t,e.observers&&e.observers.length&&K(()=>{for(let i=0;i<e.observers.length;i+=1){const f=e.observers[i];n&&B.disposed.has(f),(n&&!f.tState||!n&&!f.state)&&(f.pure?g.push(f):A.push(f),f.observers&&ee(f)),n||(f.state=E)}if(g.length>1e6)throw g=[],new Error},!1),t}function D(e){if(!e.fn)return;Q(e);const t=p,s=c,n=R;c=p=e,re(e,e.value,n),c=s,p=t}function re(e,t,s){let n;try{n=e.fn(t)}catch(i){te(i)}(!e.updatedAt||e.updatedAt<=s)&&(e.observers&&e.observers.length?V(e,n):e.value=n,e.updatedAt=s)}function _(e,t,s,n=E,i){const f={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:p,context:null,pure:s};return p===null||p!==Y&&(p.owned?p.owned.push(f):p.owned=[f]),f}function L(e){const t=B;if(e.state===0||t)return;if(e.state===U||t)return j(e);if(e.suspense&&H(e.suspense.inFallback))return e.suspense.effects.push(e);const s=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<R);)(e.state||t)&&s.push(e);for(let n=s.length-1;n>=0;n--)if(e=s[n],e.state===E||t)D(e);else if(e.state===U||t){const i=g;g=null,j(e,s[0]),g=i}}function K(e,t){if(g)return e();let s=!1;t||(g=[]),A?s=!0:A=[],R++;try{return e()}catch(n){te(n)}finally{ue(s)}}function ue(e){g&&(z(g),g=null),!e&&(A.length?fe(()=>{J(A),A=null}):A=null)}function z(e){for(let t=0;t<e.length;t++)L(e[t])}function ce(e){let t,s=0;for(t=0;t<e.length;t++){const i=e[t];i.user?e[s++]=i:L(i)}const n=e.length;for(t=0;t<s;t++)L(e[t]);for(t=n;t<e.length;t++)L(e[t])}function j(e,t){const s=B;e.state=0;for(let n=0;n<e.sources.length;n+=1){const i=e.sources[n];i.sources&&(i.state===E||s?i!==t&&L(i):(i.state===U||s)&&j(i,t))}}function ee(e){const t=B;for(let s=0;s<e.observers.length;s+=1){const n=e.observers[s];(!n.state||t)&&(n.state=U,n.pure?g.push(n):A.push(n),n.observers&&ee(n))}}function Q(e){let t;if(e.sources)for(;e.sources.length;){const s=e.sources.pop(),n=e.sourceSlots.pop(),i=s.observers;if(i&&i.length){const f=i.pop(),o=s.observerSlots.pop();n<i.length&&(f.sourceSlots[o]=n,i[n]=f,s.observerSlots[n]=o)}}if(e.owned){for(t=0;t<e.owned.length;t++)Q(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function te(e){throw e}const ae=Symbol("fallback");function W(e){for(let t=0;t<e.length;t++)e[t]()}function he(e,t,s={}){let n=[],i=[],f=[],o=0,l=t.length>1?[]:null;return oe(()=>W(f)),()=>{let a=e()||[],u,r;return H(()=>{let h=a.length,w,S,T,O,P,b,y,x,m;if(h===0)o!==0&&(W(f),f=[],n=[],i=[],o=0,l&&(l=[])),s.fallback&&(n=[ae],i[0]=I(se=>(f[0]=se,s.fallback())),o=1);else if(o===0){for(i=new Array(h),r=0;r<h;r++)n[r]=a[r],i[r]=I(d);o=h}else{for(T=new Array(h),O=new Array(h),l&&(P=new Array(h)),b=0,y=Math.min(o,h);b<y&&n[b]===a[b];b++);for(y=o-1,x=h-1;y>=b&&x>=b&&n[y]===a[x];y--,x--)T[x]=i[y],O[x]=f[y],l&&(P[x]=l[y]);for(w=new Map,S=new Array(x+1),r=x;r>=b;r--)m=a[r],u=w.get(m),S[r]=u===void 0?-1:u,w.set(m,r);for(u=b;u<=y;u++)m=n[u],r=w.get(m),r!==void 0&&r!==-1?(T[r]=i[u],O[r]=f[u],l&&(P[r]=l[u]),r=S[r],w.set(m,r)):f[u]();for(r=b;r<h;r++)r in T?(i[r]=T[r],f[r]=O[r],l&&(l[r]=P[r],l[r](r))):i[r]=I(d);i=i.slice(0,o=h),n=a.slice(0)}return i});function d(h){if(f[r]=h,l){const[w,S]=ie(r);return l[r]=S,t(a[r],w)}return t(a[r])}}}function be(e,t){return H(()=>e(t))}function ye(e){const t="fallback"in e&&{fallback:()=>e.fallback};return le(he(()=>e.each,e.children,t||void 0))}function pe(e,t,s){let n=s.length,i=t.length,f=n,o=0,l=0,a=t[i-1].nextSibling,u=null;for(;o<i||l<f;){if(t[o]===s[l]){o++,l++;continue}for(;t[i-1]===s[f-1];)i--,f--;if(i===o){const r=f<n?l?s[l-1].nextSibling:s[f-l]:a;for(;l<f;)e.insertBefore(s[l++],r)}else if(f===l)for(;o<i;)(!u||!u.has(t[o]))&&t[o].remove(),o++;else if(t[o]===s[f-1]&&s[l]===t[i-1]){const r=t[--i].nextSibling;e.insertBefore(s[l++],t[o++].nextSibling),e.insertBefore(s[--f],r),t[i]=s[f]}else{if(!u){u=new Map;let d=l;for(;d<f;)u.set(s[d],d++)}const r=u.get(t[o]);if(r!=null)if(l<r&&r<f){let d=o,h=1,w;for(;++d<i&&d<f&&!((w=u.get(t[d]))==null||w!==r+h);)h++;if(h>r-l){const S=t[o];for(;l<r;)e.insertBefore(s[l++],S)}else e.replaceChild(s[l++],t[o++])}else o++;else t[o++].remove()}}}const X="_$DX_DELEGATE";function Ae(e,t,s){let n;return I(i=>{n=i,t===document?e():ge(t,e(),t.firstChild?null:void 0,s)}),()=>{n(),t.textContent=""}}function xe(e,t,s){const n=document.createElement("template");n.innerHTML=e;let i=n.content.firstChild;return s&&(i=i.firstChild),i}function Se(e,t=window.document){const s=t[X]||(t[X]=new Set);for(let n=0,i=e.length;n<i;n++){const f=e[n];s.has(f)||(s.add(f),t.addEventListener(f,de))}}function Ee(e,t,s){s==null?e.removeAttribute(t):e.setAttribute(t,s)}function me(e,t,s,n){n?Array.isArray(s)?(e[`$$${t}`]=s[0],e[`$$${t}Data`]=s[1]):e[`$$${t}`]=s:Array.isArray(s)?e.addEventListener(t,i=>s[0](s[1],i)):e.addEventListener(t,s)}function ge(e,t,s,n){if(s!==void 0&&!n&&(n=[]),typeof t!="function")return k(e,t,n,s);F(i=>k(e,t(),i,s),n)}function de(e){const t=`$$${e.type}`;let s=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==s&&Object.defineProperty(e,"target",{configurable:!0,value:s}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return s||document}});s!==null;){const n=s[t];if(n&&!s.disabled){const i=s[`${t}Data`];if(i!==void 0?n(i,e):n(e),e.cancelBubble)return}s=s.host&&s.host!==s&&s.host instanceof Node?s.host:s.parentNode}}function k(e,t,s,n,i){for($.context&&!s&&(s=[...e.childNodes]);typeof s=="function";)s=s();if(t===s)return s;const f=typeof t,o=n!==void 0;if(e=o&&s[0]&&s[0].parentNode||e,f==="string"||f==="number"){if($.context)return s;if(f==="number"&&(t=t.toString()),o){let l=s[0];l&&l.nodeType===3?l.data=t:l=document.createTextNode(t),s=C(e,s,n,l)}else s!==""&&typeof s=="string"?s=e.firstChild.data=t:s=e.textContent=t}else if(t==null||f==="boolean"){if($.context)return s;s=C(e,s,n)}else{if(f==="function")return F(()=>{let l=t();for(;typeof l=="function";)l=l();s=k(e,l,s,n)}),()=>s;if(Array.isArray(t)){const l=[];if(G(l,t,i))return F(()=>s=k(e,l,s,n,!0)),()=>s;if($.context){for(let a=0;a<l.length;a++)if(l[a].parentNode)return s=l}if(l.length===0){if(s=C(e,s,n),o)return s}else Array.isArray(s)?s.length===0?q(e,l,n):pe(e,s,l):(s&&C(e),q(e,l));s=l}else if(t instanceof Node){if($.context&&t.parentNode)return s=o?[t]:t;if(Array.isArray(s)){if(o)return s=C(e,s,n,t);C(e,s,null,t)}else s==null||s===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);s=t}}return s}function G(e,t,s){let n=!1;for(let i=0,f=t.length;i<f;i++){let o=t[i],l;if(o instanceof Node)e.push(o);else if(!(o==null||o===!0||o===!1))if(Array.isArray(o))n=G(e,o)||n;else if((l=typeof o)=="string")e.push(document.createTextNode(o));else if(l==="function")if(s){for(;typeof o=="function";)o=o();n=G(e,Array.isArray(o)?o:[o])||n}else e.push(o),n=!0;else e.push(document.createTextNode(o.toString()))}return n}function q(e,t,s){for(let n=0,i=t.length;n<i;n++)e.insertBefore(t[n],s)}function C(e,t,s,n){if(s===void 0)return e.textContent="";const i=n||document.createTextNode("");if(t.length){let f=!1;for(let o=t.length-1;o>=0;o--){const l=t[o];if(i!==l){const a=l.parentNode===e;!f&&!o?a?e.replaceChild(i,l):e.insertBefore(i,s):a&&l.remove()}else f=!0}}else e.insertBefore(i,s);return[i]}export{ye as F,me as a,ie as b,F as c,Se as d,le as e,we as f,be as g,ge as i,Ae as r,Ee as s,xe as t};
